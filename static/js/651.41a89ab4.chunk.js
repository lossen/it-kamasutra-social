"use strict";(self.webpackChunkit_kamasutra=self.webpackChunkit_kamasutra||[]).push([[651],{651:function(t,e,s){s.r(e),s.d(e,{default:function(){return T}});var r=s(8683),o=s(2791),i="ProfileInfo_profileInfo__QG8TK",a="ProfileInfo_topCoverImageWrapper__VFBia",n="ProfileInfo_topCoverImage__BGV12",u=s(9749),l=s(885),f=s(184),c=function(t){var e=(0,o.useState)(!1),s=(0,l.Z)(e,2),r=s[0],i=s[1],a=(0,o.useState)(t.profileStatus),n=(0,l.Z)(a,2),u=n[0],c=n[1];(0,o.useEffect)((function(){c(t.profileStatus)}),[t.profileStatus]);var d=function(){i(!r)};return(0,f.jsx)(f.Fragment,{children:r?(0,f.jsx)("div",{children:(0,f.jsx)("input",{autoFocus:!0,onBlur:function(){u!==t.profileStatus&&t.updateProfileStatus(u),d()},value:u,onChange:function(t){c(t.target.value)}})}):(0,f.jsx)("div",{children:(0,f.jsxs)("span",{onDoubleClick:d,children:["Status: ",u||"-----"]})})})},d=function(t){return t.profile?(0,f.jsxs)("div",{className:i,children:[(0,f.jsx)("div",{className:a,children:(0,f.jsx)("img",{className:n,src:"https://images.unsplash.com/photo-1586184059891-09ad2a30f3ce?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2148&q=80",alt:""})}),(0,f.jsxs)("div",{children:[(0,f.jsx)("img",{src:t.profile.photos.small,alt:"avatar"}),"About me",(0,f.jsx)(c,{profileStatus:t.profileStatus,updateProfileStatus:t.updateProfileStatus}),(0,f.jsx)("div",{children:t.profile.aboutMe})]})]}):(0,f.jsx)(u.Z,{isFetching:!0})},p=s(4625),h="MyPosts_item__MZdg2",x="MyPosts_active__jpVbi",j="Post_item__Yu4oG",m="Post_flexCol__QQyIp",v="Post_postBox__79yNJ",P="Post_avatar__J150j",_=function(t){var e=t.data.body;return(0,f.jsxs)("div",{className:j,children:[(0,f.jsx)("div",{className:P,children:(0,f.jsx)("img",{src:"https://images.unsplash.com/photo-1541840524505-3d825592d8ac?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=987&q=80",alt:""})}),(0,f.jsxs)("div",{className:m,children:[(0,f.jsx)("div",{className:v,children:e}),(0,f.jsxs)("div",{children:[(0,f.jsx)("button",{children:"Like "}),t.like_counts," likes"]})]})]})},S=s(6139),g=s(704),k=s(8610),b=s(3646),C=(0,g.Z)({form:"addPost"})((function(t){return(0,f.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,f.jsx)("div",{children:(0,f.jsx)(S.Z,{name:"newPost",component:b.g,validate:k.C})}),(0,f.jsx)("div",{children:(0,f.jsx)("button",{children:"Add post"})})]})})),Z=function(t){return(0,f.jsxs)("div",{children:["My posts",(0,f.jsx)(C,{onSubmit:function(e){console.log(e,"formData"),t.addPostThunkCreator(e.newPost)}}),(0,f.jsx)("div",{className:"".concat(h," ").concat(x),children:"New post"}),t.posts.map((function(t){return(0,f.jsx)(_,{data:t})}))]})},w=s(8687),M=(0,w.$j)((function(t){return{posts:t.profilePage.posts}}),{addPostThunkCreator:p.YP})(Z),N=function(t){return(0,f.jsxs)("main",{className:"content",children:[(0,f.jsx)(d,{profile:t.profile,profileStatus:t.profileStatus,updateProfileStatus:t.updateProfileStatus}),(0,f.jsx)(M,{store:t.store})]})},y=s(6871),I=s(8307),T=(0,s(7781).qC)((0,w.$j)((function(t){return{profile:t.profilePage.profile,profileStatus:t.profilePage.profileStatus,userId:t.auth.userId}}),{setUserProfile:p.$l,getProfileDataThunkCreator:p.hP,getProfileStatusThunkCreator:p.TL,setProfileStatusThunkCreator:p.$p}),I.Z,(function(t){return function(e){return(0,f.jsx)(t,(0,r.Z)((0,r.Z)({},e),{},{navigate:(0,y.s0)(),params:(0,y.UO)()}))}}))((function(t){(0,o.useEffect)((function(){e()}),[]);var e=function(){var e=t.params.user_id;e||(e=t.userId),t.getProfileDataThunkCreator(e),t.getProfileStatusThunkCreator(e)};return(0,f.jsx)(N,(0,r.Z)((0,r.Z)({},t),{},{profile:t.profile,updateProfileStatus:function(e){t.setProfileStatusThunkCreator(e)}}))}))},8307:function(t,e,s){var r=s(8683),o=s(5671),i=s(3144),a=s(136),n=s(5716),u=s(2791),l=s(6871),f=s(8687),c=s(184),d=function(t){return{isAuth:t.auth.isAuth}};e.Z=function(t){var e=function(e){(0,a.Z)(u,e);var s=(0,n.Z)(u);function u(){return(0,o.Z)(this,u),s.apply(this,arguments)}return(0,i.Z)(u,[{key:"render",value:function(){return this.props.isAuth?(0,c.jsx)(t,(0,r.Z)({},this.props)):(0,c.jsx)(l.Fg,{to:"/login"})}}]),u}(u.Component);return(0,f.$j)(d)(e)}}}]);
//# sourceMappingURL=651.41a89ab4.chunk.js.map