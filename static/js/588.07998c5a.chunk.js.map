{"version":3,"file":"static/js/588.07998c5a.chunk.js","mappings":"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","sources":["webpack://it_kamasutra/./src/components/Users/User/User.module.css?cfea","components/Users/User/User.jsx","webpack://it_kamasutra/./src/components/common/Pagination/Pagination.module.css?82a8","components/common/Pagination/Pagination.jsx","components/Users/Users.jsx","redux/usersSelectors.js","components/Users/UsersContainer.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"user\":\"User_user__fnnmF\",\"column\":\"User_column__KprAB\",\"row\":\"User_row__OUiSf\",\"avatar\":\"User_avatar__V2sdX\",\"avatarImage\":\"User_avatarImage__In3G2\"};","import React from \"react\";\nimport classes from \"./User.module.css\";\nimport Avatar from '../../../images/avatar.placeholder.png'\nimport {NavLink} from \"react-router-dom\";\n\nconst User = (props) => {\n    const onFollow = () => {\n        props.followUser(props.id)\n    }\n    const onUnfollow = () => {\n        props.unfollowUser(props.id)\n    }\n    let isDisabled = props.followingProgressQueue.some(id => id === props.id);\n\n    return <div className={classes.user}>\n        <div className={classes.column}>\n            <NavLink to={`/profile/${props.id}`} className={classes.avatar}>\n                <img className={classes.avatarImage} src={props.photos.small || Avatar} alt={'avatar'}/>\n            </NavLink>\n            {props.followed ? <button disabled={isDisabled} onClick={onUnfollow}>unfollow</button> :\n                <button disabled={isDisabled} onClick={onFollow}>follow</button>}\n        </div>\n        <div className={classes.row}>\n            <div className={classes.column}>\n                <div>{props.name}</div>\n                <div>{props.status}</div>\n            </div>\n            {/*<div>*/}\n            {/*    <div>{props.location.country}</div>*/}\n            {/*    <div>{props.location.city}</div>*/}\n            {/*</div>*/}\n        </div>\n    </div>\n}\n\nexport default User;","// extracted by mini-css-extract-plugin\nexport default {\"pagination\":\"Pagination_pagination__zBlm2\",\"active\":\"Pagination_active__vveOm\",\"page\":\"Pagination_page__8MDmO\",\"navBtn\":\"Pagination_navBtn__yEiIm\"};","import React, {useState} from \"react\";\nimport classes from \"./Pagination.module.css\";\n\nconst Pagination = ({portionSize, ...props}) => {\n    let pagesCount = Math.ceil(props.totalItemsCount / props.pageSize);\n    let pages = [];\n    for (let i = 1; i <= pagesCount; i++) {\n        pages.push(i)\n    }\n\n    const onChangePage = (page) => {\n        props.setCurrentPage(page)\n        props.getList(page)\n    }\n\n    let portionCount = Math.ceil(pagesCount / portionSize);\n    let [portionNumber, setPortionNumber] = useState(1);\n    let leftPortionNumber = (portionNumber - 1) * portionSize + 1;\n    let rightPortionNumber = portionNumber * portionSize;\n\n    return (\n        <div className={classes.pagination}>\n            {portionNumber > 1 && <button className={classes.navBtn}\n                onClick={() => setPortionNumber(--portionNumber)}>Prev</button>}\n            {pages.filter(p => p >= leftPortionNumber && p <= rightPortionNumber)\n                .map((page, i) => {\n                    let isActive = props.currentPage === page;\n                    let isActiveClass = isActive ? `${classes.active} ${classes.page}` : classes.page;\n                    return (\n                        <button key={`pageNumber-${page}`} onClick={() => onChangePage(page)}\n                                className={isActiveClass}>{page}</button>\n                    )\n                })}\n            {portionNumber < portionCount && <button className={classes.navBtn}\n                onClick={() => setPortionNumber(++portionNumber)}>Next</button>}\n        </div>\n\n    )\n}\n\nexport default Pagination;","import React from \"react\";\nimport User from \"./User/User\";\nimport Pagination from \"../common/Pagination/Pagination\";\n\n\nconst Users = (props) => {\n    return (\n        <div>\n            <Pagination totalItemsCount={props.totalUsersCount}\n                        pageSize={props.pageSize}\n                        currentPage={props.currentPage}\n                        setCurrentPage={props.setCurrentPage}\n                        getList={props.getUsers}\n                        portionSize={10}/>\n            {props.users && props.users.map(user => {\n                return (\n                    <div>\n\n                        <User key={user.id} {...user}\n                              followUser={props.followUser} unfollowUser={props.unfollowUser}\n                              followingProgressQueue={props.followingProgressQueue}/>\n                    </div>\n                )\n            })}\n        </div>\n    )\n}\n\nexport default Users;","import {createSelector} from \"reselect\";\n\nexport const getUsers = (state) => {\n    return state.usersPage.users;\n}\n// export const getUsersReselector = createSelector(getUsers,(users) => {\n//     return users.filter(u => true)\n// })\nexport const getCurrentPage = (state) => {\n    return state.usersPage.currentPage;\n}\n\nexport const getPageSize = (state) => {\n    return state.usersPage.pageSize;\n}\n\nexport const getTotalUsersCount = (state) => {\n    return state.usersPage.totalUsersCount;\n}\n\nexport const getIsFetching = (state) => {\n    return state.usersPage.isFetching;\n}\n\nexport const getFollowingProgressQueue = (state) => {\n    return state.usersPage.followingProgressQueue;\n}","import {connect} from \"react-redux\";\nimport {\n    followUser,\n    followUserThunkCreator,\n    getUsersThunkCreator,\n    setCurrentPage,\n    setFetching,\n    setTotalUsersCount,\n    setUsers,\n    toggleFollowingIsFetching,\n    unfollowUser,\n    unfollowUserThunkCreator\n} from \"../../redux/usersReducer\";\nimport React from \"react\";\nimport Users from \"./Users\";\nimport Loader from \"../common/Loader/Loader\";\nimport {compose} from \"redux\";\nimport {\n    getCurrentPage,\n    getFollowingProgressQueue,\n    getIsFetching,\n    getPageSize,\n    getTotalUsersCount,\n    getUsers\n} from \"../../redux/usersSelectors\";\n\nclass UsersContainer extends React.Component {\n    componentDidMount() {\n        this.onGetUsers(this.props.currentPage)\n    }\n\n    onGetUsers = (page) => {\n        this.props.getUsersThunkCreator(page,this.props.pageSize)\n    }\n\n    onFollowUser = (user_id) => {\n        this.props.followUserThunkCreator(user_id)\n    }\n\n    onUnfollowUser = (user_id) => {\n        this.props.unfollowUserThunkCreator(user_id)\n    }\n\n    render() {\n        return <>\n            <Loader isFetching={this.props.isFetching}/>\n            <Users getUsers={this.onGetUsers}\n                   totalUsersCount={this.props.totalUsersCount}\n                   pageSize={this.props.pageSize}\n                   currentPage={this.props.currentPage}\n                   setCurrentPage={this.props.setCurrentPage}\n                   users={this.props.users}\n                   followUser={this.onFollowUser}\n                   unfollowUser={this.onUnfollowUser}\n                   followingProgressQueue={this.props.followingProgressQueue}\n            />\n        </>\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    users: getUsers(state),\n    currentPage: getCurrentPage(state),\n    pageSize: getPageSize(state),\n    totalUsersCount: getTotalUsersCount(state),\n    isFetching: getIsFetching(state),\n    followingProgressQueue: getFollowingProgressQueue(state),\n})\n\nexport default compose(\n    connect(mapStateToProps,\n        {\n            followUser,\n            unfollowUser,\n            setUsers,\n            setCurrentPage,\n            setTotalUsersCount,\n            setFetching,\n            toggleFollowingIsFetching,\n            getUsersThunkCreator,\n            followUserThunkCreator,\n            unfollowUserThunkCreator\n        }),\n)(UsersContainer);"],"names":["props","isDisabled","followingProgressQueue","some","id","className","classes","to","src","photos","small","alt","followed","disabled","onClick","unfollowUser","followUser","name","status","portionSize","pagesCount","Math","ceil","totalItemsCount","pageSize","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionNumber","rightPortionNumber","filter","p","map","page","isActiveClass","currentPage","setCurrentPage","getList","onChangePage","totalUsersCount","getUsers","users","user","state","usersPage","getCurrentPage","getPageSize","getTotalUsersCount","getIsFetching","isFetching","getFollowingProgressQueue","UsersContainer","onGetUsers","getUsersThunkCreator","onFollowUser","user_id","followUserThunkCreator","onUnfollowUser","unfollowUserThunkCreator","this","Loader","React","compose","connect","setUsers","setTotalUsersCount","setFetching","toggleFollowingIsFetching"],"sourceRoot":""}